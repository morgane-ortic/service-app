{% extends './base.html' %}
{% load static %}
{% block content %}

<div style="width: 1800px; height: 700px; padding: 30px; border-radius: 10px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
    <div style="display: flex; gap: 20px; align-items: stretch;">
        <!-- Left Panel: Active Bookings and History -->
        <div class="history" style="flex: 1;">
            <h2>History</h2>
            <div class="history-item">
                <button>Use address</button>
                <button>Request Therapist</button>
                <button onclick="toggleText(this)" style="width: 160px;">Add to favorites</button>
                <p><strong>Date:</strong> 11.10.2024</p>
                <p><strong>Location:</strong> Winiger Strasse, Berlin 10000 bla bla</p>
                <p><strong>Therapist:</strong> Casandra Sternritter, Thai Massagist</p>
                <p><strong>Service:</strong> Thai Massage – 60 minutes</p>
                <p><strong>Price:</strong> €80</p>
            </div>
            <hr>
            <div class="history-item">
                <button>Use address</button>
                <button>Request Therapist</button>
                <button onclick="toggleText(this)" style="width: 160px;">Add to favorites</button>
                <p><strong>Date:</strong> 21.03.2023</p>
                <p><strong>Location:</strong> Winiger Strasse, Berlin 10000 bla bla</p>
                <p><strong>Therapist:</strong> Casandra Sternritter, Thai Massagist</p>
                <p><strong>Service:</strong> Thai Massage – 60 minutes</p>
                <p><strong>Price:</strong> €80</p>
            </div>
        </div>
        <hr>
        <div class="booking-details" style="flex: 1;">
            <h2>Active Booking</h2>
            <p><strong>Date:</strong> 11.10.2024</p>
            <p><strong>Location:</strong> Winiger Strasse, Berlin 10000 bla bla</p>
            <p><strong>Therapist:</strong> Casandra Sternritter, Thai Massagist</p>
            <p><strong>Service:</strong> Thai Massage – 60 minutes</p>
            <p><strong>Price:</strong> €80</p>
            <div class="status-message">Your therapist is on their way</div>
        </div>

        <!-- Right Panel: Google Map -->
        <div class="map-container" style="flex: 1.5; display: flex; flex-direction: column; height: 100%;">
            <div class="map-header" style="margin-bottom: 10px; display: flex; align-items: center; gap: 10px;">
                <input type="text" placeholder="Enter your address" style="flex: 1; padding: 8px; border-radius: 5px; border: 1px solid #ccc;">
                <button style="background-color: rgb(216, 107, 222); color: white; border: none; border-radius: 5px; padding: 8px 16px;">Search for a therapist</button>
            </div>
            <div class="map" style="flex-grow: 1; height: 400px; overflow: hidden; border-radius: 10px;">
                <iframe
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d243647.78029578898!2d13.144554764086133!3d52.506513272037446!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47a85bcd54f89f45%3A0xb431fdcfc7c76c8c!2sBerlin%2C%20Germany!5e0!3m2!1sen!2sus!4v1608257029775!5m2!1sen!2sus"
                    width="100%"
                    height="100%"
                    style="border: none;"
                    allowfullscreen="true"
                    loading="lazy">
                </iframe>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const buttons = document.querySelectorAll("button");

        buttons.forEach((button) => {
            updateHoverEffect(button);
        });
    });

    function updateHoverEffect(button) {
        // Remove any existing hover listeners
        button.removeEventListener('mouseover', button.hoverInListener);
        button.removeEventListener('mouseout', button.hoverOutListener);

        // Add hover effects only if the text is "Favorite"
        if (button.textContent.trim() === 'Favorite') {
            button.hoverInListener = function () {
                this.textContent = 'Remove from favorites';
            };

            button.hoverOutListener = function () {
                this.textContent = 'Favorite';
            };

            button.addEventListener('mouseover', button.hoverInListener);
            button.addEventListener('mouseout', button.hoverOutListener);
        }
    }

    function toggleText(button) {
        const currentText = button.textContent.trim();

        if (currentText === 'Add to favorites') {
            button.textContent = 'Favorite';
        } else {
            button.textContent = 'Add to favorites';
        }

        // Update hover effects based on the new text
        updateHoverEffect(button);
    }
</script>



{% endblock %}
